apiVersion: "monitoring.kiali.io/v1alpha1"
kind: MonitoringDashboard
metadata:
  name: microprofile-2.2
spec:
  title: MicroProfile Metrics
  runtime: MicroProfile
  discoverOn: "base_thread_count"
  items:
  - chart:
      name: "Process CPU Load (percent)"
      spans: 12
      metricName: "base_cpu_processCpuLoad_percent"
      dataType: "raw"
      min: 0
  - chart:
      name: "GC time"
      spans: 6
      metricName: "base_gc_time_total_seconds"
      unit: "seconds"
      dataType: "raw"
  - chart:
      name: "GC total"
      spans: 6
      metricName: "base_gc_total"
      dataType: "raw"
  - chart:
      name: "Current loaded classes"
      spans: 6
      metricName: "base_classloader_loadedClasses_count"
      dataType: "raw"
  - chart:
      name: "Unloaded classes"
      spans: 6
      metricName: "base_classloader_unloadedClasses_total"
      dataType: "raw"
  - chart:
      name: "Thread count"
      spans: 4
      metricName: "base_thread_count"
      dataType: "raw"
      min: 0
  - chart:
      name: "Thread max count"
      spans: 4
      metricName: "base_thread_max_count"
      dataType: "raw"
      min: 0
  - chart:
      name: "Thread daemon count"
      spans: 4
      metricName: "base_thread_daemon_count"
      dataType: "raw"
      min: 0
  - chart:
      name: "Committed heap"
      unit: "bytes"
      spans: 4
      metricName: "base_memory_committedHeap_bytes"
      dataType: "raw"
      min: 0
  - chart:
      name: "Max heap"
      unit: "bytes"
      spans: 4
      metricName: "base_memory_maxHeap_bytes"
      dataType: "raw"
      min: 0
  - chart:
      name: "Used heap"
      unit: "bytes"
      spans: 4
      metricName: "base_memory_usedHeap_bytes"
      dataType: "raw"
      min: 0
